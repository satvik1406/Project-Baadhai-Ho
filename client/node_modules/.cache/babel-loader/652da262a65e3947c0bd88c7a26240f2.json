{"ast":null,"code":"import _slicedToArray from\"D:/Project/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import Note from\"./Note\";import CreateArea from\"./CreateArea\";import axios from\"axios\";function Caller(props){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),notes=_useState2[0],setNotes=_useState2[1];var callId;function addNote(newNote){console.log(newNote);setNotes(function(prevNotes){console.log(prevNotes);return[newNote];});console.log(\"near newnote\",newNote);axios.post('/'+props.type+'/update',newNote).then(function(res){return console.log(\"sent successfully\");}).catch(function(error){return console.log(error);});}function deleteNote(id,email_id,username){var cat;// setNotes((prevNotes) => {\n//   return prevNotes.filter((noteItem, index) => {\n//     return index !== id;\n//   });\n// });\nif(id==\"1\")cat=\"caterer\";if(id==\"2\")cat=\"banquet\";if(id==\"3\")cat=\"photographer\";console.log(email_id,username);var user={email:email_id,name:username};axios.post('/'+cat+'/delete',user).then(function(res){return console.log(\"sent successfully\");}).catch(function(error){return console.log(error);});}return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(CreateArea,{cat:props.type,onAdd:addNote,onDelete:deleteNote,id:props.id}));}export default Caller;","map":{"version":3,"sources":["D:/Project/client/src/components/Caller.jsx"],"names":["React","useState","Note","CreateArea","axios","Caller","props","notes","setNotes","callId","addNote","newNote","console","log","prevNotes","post","type","then","res","catch","error","deleteNote","id","email_id","username","cat","user","email","name"],"mappings":"wIAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,MAAOC,CAAAA,IAAP,KAAiB,QAAjB,CACA,MAAOC,CAAAA,UAAP,KAAuB,cAAvB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CAEA,QAASC,CAAAA,MAAT,CAAgBC,KAAhB,CAAuB,eACKL,QAAQ,CAAC,EAAD,CADb,wCACdM,KADc,eACPC,QADO,eAErB,GAAIC,CAAAA,MAAJ,CACA,QAASC,CAAAA,OAAT,CAAiBC,OAAjB,CAA0B,CACxBC,OAAO,CAACC,GAAR,CAAYF,OAAZ,EAEAH,QAAQ,CAAC,SAACM,SAAD,CAAe,CACtBF,OAAO,CAACC,GAAR,CAAYC,SAAZ,EACA,MAAO,CAACH,OAAD,CAAP,CACD,CAHO,CAAR,CAIAC,OAAO,CAACC,GAAR,CAAY,cAAZ,CAA2BF,OAA3B,EACAP,KAAK,CAACW,IAAN,CAAW,IAAIT,KAAK,CAACU,IAAV,CAAe,SAA1B,CAAoCL,OAApC,EACGM,IADH,CACQ,SAAAC,GAAG,QAAEN,CAAAA,OAAO,CAACC,GAAR,CAAY,mBAAZ,CAAF,EADX,EAEGM,KAFH,CAES,SAAAC,KAAK,QAAER,CAAAA,OAAO,CAACC,GAAR,CAAYO,KAAZ,CAAF,EAFd,EAGD,CAED,QAASC,CAAAA,UAAT,CAAoBC,EAApB,CAAuBC,QAAvB,CAAgCC,QAAhC,CAA0C,CACxC,GAAIC,CAAAA,GAAJ,CACA;AACA;AACA;AACA;AACA;AACA,GAAGH,EAAE,EAAI,GAAT,CAAcG,GAAG,CAAG,SAAN,CACd,GAAGH,EAAE,EAAI,GAAT,CAAcG,GAAG,CAAG,SAAN,CACd,GAAGH,EAAE,EAAI,GAAT,CAAcG,GAAG,CAAG,cAAN,CACdb,OAAO,CAACC,GAAR,CAAYU,QAAZ,CAAqBC,QAArB,EACA,GAAIE,CAAAA,IAAI,CAAC,CACPC,KAAK,CAACJ,QADC,CAEPK,IAAI,CAACJ,QAFE,CAAT,CAIApB,KAAK,CAACW,IAAN,CAAW,IAAIU,GAAJ,CAAQ,SAAnB,CAA6BC,IAA7B,EACGT,IADH,CACQ,SAAAC,GAAG,QAAEN,CAAAA,OAAO,CAACC,GAAR,CAAY,mBAAZ,CAAF,EADX,EAEGM,KAFH,CAES,SAAAC,KAAK,QAAER,CAAAA,OAAO,CAACC,GAAR,CAAYO,KAAZ,CAAF,EAFd,EAGD,CAED,mBACE,4CACE,oBAAC,UAAD,EACA,GAAG,CAAEd,KAAK,CAACU,IADX,CAEA,KAAK,CAAEN,OAFP,CAGA,QAAQ,CAAEW,UAHV,CAIA,EAAE,CAAIf,KAAK,CAACgB,EAJZ,EADF,CADF,CAiCD,CAED,cAAejB,CAAAA,MAAf","sourcesContent":["import React, { useState } from \"react\";\r\nimport Note from \"./Note\";\r\nimport CreateArea from \"./CreateArea\";\r\nimport axios from \"axios\";\r\n\r\nfunction Caller(props) {\r\n  const [notes, setNotes] = useState([]);\r\n  var callId;\r\n  function addNote(newNote) {\r\n    console.log(newNote);\r\n    \r\n    setNotes((prevNotes) => {\r\n      console.log(prevNotes);\r\n      return [newNote];\r\n    });\r\n    console.log(\"near newnote\",newNote)\r\n    axios.post('/'+props.type+'/update',newNote)\r\n      .then(res=>console.log(\"sent successfully\"))\r\n      .catch(error=>console.log(error))\r\n  }\r\n\r\n  function deleteNote(id,email_id,username) {\r\n    var cat;\r\n    // setNotes((prevNotes) => {\r\n    //   return prevNotes.filter((noteItem, index) => {\r\n    //     return index !== id;\r\n    //   });\r\n    // });\r\n    if(id == \"1\") cat = \"caterer\";\r\n    if(id == \"2\") cat = \"banquet\";\r\n    if(id == \"3\") cat = \"photographer\";\r\n    console.log(email_id,username)\r\n    var user={\r\n      email:email_id,\r\n      name:username\r\n    }\r\n    axios.post('/'+cat+'/delete',user)\r\n      .then(res=>console.log(\"sent successfully\"))\r\n      .catch(error=>console.log(error))\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <CreateArea\r\n      cat={props.type} \r\n      onAdd={addNote}\r\n      onDelete={deleteNote} \r\n      id = {props.id}\r\n      />\r\n      {/* {notes.map((noteItem, index) => {\r\n        return (\r\n          <div\r\n            style={{\r\n              margin: \"25px 25px 25px 15px\",\r\n              float: \"left\",\r\n              fontFamily: \"McLaren\"\r\n            }}\r\n          >\r\n            <Note\r\n              key={index}\r\n              id={index}\r\n              sid={props.id}\r\n              title={noteItem.title}\r\n              content={noteItem.content}\r\n              cost={noteItem.cost}\r\n              tel={noteItem.tel}\r\n              type={noteItem.type}\r\n              onDelete={deleteNote}\r\n            />\r\n          </div>\r\n        );\r\n      })} */}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Caller;\r\n"]},"metadata":{},"sourceType":"module"}