{"ast":null,"code":"import _slicedToArray from\"D:/Project/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import Container from'react-bootstrap/Container';import Row from'react-bootstrap/Row';import Col from'react-bootstrap/Col';import{useLocation}from'react-router-dom';function Checkout(){var location=useLocation();var params=new URLSearchParams(location.search);var email_id=params.get('email');var username=params.get('username');var _useState=useState(0),_useState2=_slicedToArray(_useState,2),total=_useState2[0],setTotal=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),cart=_useState4[0],setCart=_useState4[1];useEffect(function(){if(cart){axios.get('/'+'customer'+'/cart_items',{params:{cust_email:email_id,cust_name:username}}).then(function(res){setCart(res.data);calTotal(res.data);}).catch(function(error){return console.log(error);});}},[]);function calTotal(cart){cart.map(function(item,index){setTotal(total+item.cost);});}return/*#__PURE__*/React.createElement(Container,null,/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,null,/*#__PURE__*/React.createElement(\"h1\",null,\"Total: \",total))),cart.map(function(noteItem,index){return/*#__PURE__*/React.createElement(Card,{key:index,id:index,sid:noteItem.sid,company:noteItem.company,contact:noteItem.tel,cost:noteItem.charge,content:noteItem.about,date:date});}),/*#__PURE__*/React.createElement(Button,{variant:\"outline-dark\"},\"Proceed to payment!\"));}export default Checkout;","map":{"version":3,"sources":["D:/Project/client/src/components/type/Checkout.jsx"],"names":["React","useState","useEffect","Container","Row","Col","useLocation","Checkout","location","params","URLSearchParams","search","email_id","get","username","total","setTotal","cart","setCart","axios","cust_email","cust_name","then","res","data","calTotal","catch","error","console","log","map","item","index","cost","noteItem","sid","company","tel","charge","about","date"],"mappings":"wIAAA,MAAOA,CAAAA,KAAP,EAAcC,QAAd,CAAuBC,SAAvB,KAAuC,OAAvC,CACA,MAAOC,CAAAA,SAAP,KAAsB,2BAAtB,CACA,MAAOC,CAAAA,GAAP,KAAgB,qBAAhB,CACA,MAAOC,CAAAA,GAAP,KAAgB,qBAAhB,CACA,OAAQC,WAAR,KAA0B,kBAA1B,CACA,QAASC,CAAAA,QAAT,EAAmB,CACf,GAAMC,CAAAA,QAAQ,CAAGF,WAAW,EAA5B,CACA,GAAMG,CAAAA,MAAM,CAAG,GAAIC,CAAAA,eAAJ,CAAoBF,QAAQ,CAACG,MAA7B,CAAf,CACA,GAAMC,CAAAA,QAAQ,CAAGH,MAAM,CAACI,GAAP,CAAW,OAAX,CAAjB,CACA,GAAMC,CAAAA,QAAQ,CAAGL,MAAM,CAACI,GAAP,CAAW,UAAX,CAAjB,CAJe,cAKQZ,QAAQ,CAAC,CAAD,CALhB,wCAKRc,KALQ,eAKFC,QALE,8BAMMf,QAAQ,CAAC,EAAD,CANd,yCAMRgB,IANQ,eAMHC,OANG,eAOfhB,SAAS,CAAC,UAAM,CAChB,GAAIe,IAAJ,CAAU,CACNE,KAAK,CAACN,GAAN,CAAU,IAAI,UAAJ,CAAe,aAAzB,CAAuC,CAACJ,MAAM,CAAE,CAACW,UAAU,CAAER,QAAb,CAAuBS,SAAS,CAACP,QAAjC,CAAT,CAAvC,EACKQ,IADL,CACU,SAAAC,GAAG,CAAE,CAACL,OAAO,CAACK,GAAG,CAACC,IAAL,CAAP,CAAkBC,QAAQ,CAACF,GAAG,CAACC,IAAL,CAAR,CAAmB,CADrD,EAEKE,KAFL,CAEW,SAAAC,KAAK,QAAEC,CAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ,CAAF,EAFhB,EAGC,CACJ,CANQ,CAMP,EANO,CAAT,CAOA,QAASF,CAAAA,QAAT,CAAkBR,IAAlB,CAAuB,CACnBA,IAAI,CAACa,GAAL,CAAS,SAACC,IAAD,CAAMC,KAAN,CAAe,CACpBhB,QAAQ,CAACD,KAAK,CAACgB,IAAI,CAACE,IAAZ,CAAR,CACH,CAFD,EAGH,CACD,mBACA,oBAAC,SAAD,mBACI,oBAAC,GAAD,mBACI,oBAAC,GAAD,mBACI,wCAAYlB,KAAZ,CADJ,CADJ,CADJ,CAMKE,IAAI,CAACa,GAAL,CAAS,SAACI,QAAD,CAAWF,KAAX,CAAqB,CAC/B,mBACI,oBAAC,IAAD,EACE,GAAG,CAAEA,KADP,CAEE,EAAE,CAAEA,KAFN,CAGE,GAAG,CAAEE,QAAQ,CAACC,GAHhB,CAIE,OAAO,CAAED,QAAQ,CAACE,OAJpB,CAKE,OAAO,CAAEF,QAAQ,CAACG,GALpB,CAME,IAAI,CAAEH,QAAQ,CAACI,MANjB,CAOE,OAAO,CAAEJ,QAAQ,CAACK,KAPpB,CAQE,IAAI,CAAEC,IARR,EADJ,CAYD,CAbE,CANL,cAoBE,oBAAC,MAAD,EACA,OAAO,CAAC,cADR,wBApBF,CADA,CA0BH,CAED,cAAejC,CAAAA,QAAf","sourcesContent":["import React,{useState,useEffect} from 'react';\r\nimport Container from 'react-bootstrap/Container';\r\nimport Row from 'react-bootstrap/Row';\r\nimport Col from 'react-bootstrap/Col';\r\nimport {useLocation} from 'react-router-dom';\r\nfunction Checkout(){\r\n    const location = useLocation();\r\n    const params = new URLSearchParams(location.search);\r\n    const email_id = params.get('email');\r\n    const username = params.get('username');\r\n    const [total,setTotal]=useState(0)\r\n    const [cart,setCart]=useState([])\r\n    useEffect(() => {\r\n    if (cart) {\r\n        axios.get('/'+'customer'+'/cart_items',{params: {cust_email: email_id, cust_name:username}})\r\n            .then(res=>{setCart(res.data);calTotal(res.data)})\r\n            .catch(error=>console.log(error))\r\n        }\r\n    },[]);\r\n    function calTotal(cart){\r\n        cart.map((item,index) =>{\r\n            setTotal(total+item.cost);\r\n        })\r\n    }\r\n    return (\r\n    <Container>\r\n        <Row>\r\n            <Col>\r\n                <h1>Total: {total}</h1>\r\n            </Col>\r\n        </Row>\r\n        {cart.map((noteItem, index) => {\r\n        return (\r\n            <Card\r\n              key={index}\r\n              id={index}\r\n              sid={noteItem.sid}\r\n              company={noteItem.company}\r\n              contact={noteItem.tel}\r\n              cost={noteItem.charge}\r\n              content={noteItem.about}\r\n              date={date}\r\n            />\r\n        );\r\n      })}\r\n      <Button \r\n      variant=\"outline-dark\">Proceed to payment!</Button>\r\n\r\n    </Container>\r\n    );\r\n}\r\n\r\nexport default Checkout;"]},"metadata":{},"sourceType":"module"}