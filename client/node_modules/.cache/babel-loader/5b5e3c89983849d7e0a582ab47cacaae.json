{"ast":null,"code":"import _slicedToArray from\"D:/Project/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _taggedTemplateLiteral from\"D:/Project/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";var _templateObject;import React,{useState,useEffect}from'react';import Container from'react-bootstrap/Container';import Row from'react-bootstrap/Row';import Col from'react-bootstrap/Col';import Button from\"react-bootstrap/Button\";import axios from'axios';import Cart from'./Cart';import{Link}from'react-router-dom';import Loader from\"react-loader-spinner\";import{css}from\"@emotion/core\";import ClipLoader from\"react-spinners/ClipLoader\";var override=css(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  display: block;\\n  margin: 0 auto;\\n  border-color: red;\\n\"])));function Checkout(props){console.log(props.location);console.log(props.location.state);// const location = useLocation();\n// const params = new URLSearchParams(location.search);\nvar email_id=props.location.state.email_id;var username=props.location.state.username;var _useState=useState(0),_useState2=_slicedToArray(_useState,2),total=_useState2[0],setTotal=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),cart=_useState4[0],setCart=_useState4[1];var _useState5=useState(true),_useState6=_slicedToArray(_useState5,2),loading=_useState6[0],setLoading=_useState6[1];var _useState7=useState(\"#ffffff\"),_useState8=_slicedToArray(_useState7,2),color=_useState8[0],setColor=_useState8[1];useEffect(function(){if(cart){axios.get('/'+'customer'+'/cart_items',{params:{cust_email:email_id,cust_name:username}}).then(function(res){setCart(res.data);calTotal(res.data);}).catch(function(error){return console.log(error);});}},[]);function calTotal(cart){var t=0;cart.map(function(item,index){t=t+item.cost;});setTotal(t);}return/*#__PURE__*/React.createElement(Container,null,/*#__PURE__*/React.createElement(Loader,{type:\"Puff\",color:\"#00BFFF\",height:100,width:100,timeout:3000//3 secs\n}),/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,null,/*#__PURE__*/React.createElement(\"h1\",null,\"Total: \",total))),cart.map(function(noteItem,index){return/*#__PURE__*/React.createElement(\"div\",{className:\"sweet-loading\"},/*#__PURE__*/React.createElement(\"button\",{onClick:function onClick(){return setLoading(!loading);}},\"Toggle Loader\"),/*#__PURE__*/React.createElement(\"input\",{value:color,onChange:function onChange(input){return setColor(input.target.value);},placeholder:\"Color of the loader\"}),/*#__PURE__*/React.createElement(ClipLoader,{color:color,loading:loading,css:override,size:150}));}),/*#__PURE__*/React.createElement(Link,{to:{pathname:\"/payment\",state:{email_id:email_id,username:username,total:total,cart:cart}}},/*#__PURE__*/React.createElement(Button,{variant:\"outline-dark\",onClick:function onClick(){console.log(email_id,username,total,cart);}},\"Checkout\")));}export default Checkout;","map":{"version":3,"sources":["D:/Project/client/src/components/type/Checkout.jsx"],"names":["React","useState","useEffect","Container","Row","Col","Button","axios","Cart","Link","Loader","css","ClipLoader","override","Checkout","props","console","log","location","state","email_id","username","total","setTotal","cart","setCart","loading","setLoading","color","setColor","get","params","cust_email","cust_name","then","res","data","calTotal","catch","error","t","map","item","index","cost","noteItem","input","target","value","pathname"],"mappings":"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","sourcesContent":["import React,{useState,useEffect} from 'react';\r\nimport Container from 'react-bootstrap/Container';\r\nimport Row from 'react-bootstrap/Row';\r\nimport Col from 'react-bootstrap/Col';\r\nimport Button from \"react-bootstrap/Button\";\r\nimport axios from 'axios';\r\nimport Cart from './Cart';\r\nimport {Link} from 'react-router-dom';\r\nimport Loader from \"react-loader-spinner\";\r\nimport { css } from \"@emotion/core\";\r\nimport ClipLoader from \"react-spinners/ClipLoader\";\r\nconst override = css`\r\n  display: block;\r\n  margin: 0 auto;\r\n  border-color: red;\r\n`;\r\nfunction Checkout(props){\r\n    console.log(props.location);\r\n    console.log(props.location.state);\r\n    // const location = useLocation();\r\n    // const params = new URLSearchParams(location.search);\r\n    const email_id = props.location.state.email_id;\r\n    const username = props.location.state.username;\r\n    const [total,setTotal]=useState(0)\r\n    const [cart,setCart]=useState([])\r\n    let [loading, setLoading] = useState(true);\r\n    let [color, setColor] = useState(\"#ffffff\");\r\n    useEffect(() => {\r\n    if (cart) {\r\n        axios.get('/'+'customer'+'/cart_items',{params: {cust_email: email_id, cust_name:username}})\r\n            .then(res=>{setCart(res.data);calTotal(res.data)})\r\n            .catch(error=>console.log(error))\r\n        }\r\n    },[]);\r\n    function calTotal(cart){\r\n        var t = 0;\r\n        cart.map((item,index) =>{\r\n            t = t + item.cost;\r\n        })\r\n        setTotal(t);\r\n    }\r\n    return (\r\n    <Container>\r\n        <Loader\r\n            type=\"Puff\"\r\n            color=\"#00BFFF\"\r\n            height={100}\r\n            width={100}\r\n            timeout={3000} //3 secs\r\n        />\r\n        <Row>\r\n            <Col>\r\n                <h1>Total: {total}</h1>\r\n            </Col>\r\n        </Row>\r\n        {cart.map((noteItem, index) => {\r\n        return (\r\n            <div className=\"sweet-loading\">\r\n            <button onClick={() => setLoading(!loading)}>Toggle Loader</button>\r\n            <input\r\n                value={color}\r\n                onChange={(input) => setColor(input.target.value)}\r\n                placeholder=\"Color of the loader\"\r\n            />\r\n\r\n            <ClipLoader color={color} loading={loading} css={override} size={150} />\r\n            </div>\r\n        );\r\n      })}\r\n      <Link to={{ \r\n          pathname: \"/payment\", \r\n          state: {email_id,username,total,cart}\r\n          }}>\r\n          <Button \r\n          variant=\"outline-dark\"\r\n          onClick={ () => {\r\n            console.log(email_id,username,total,cart);\r\n          }}\r\n          >Checkout</Button>\r\n        </Link>\r\n\r\n    </Container>\r\n    );\r\n}\r\n\r\nexport default Checkout;"]},"metadata":{},"sourceType":"module"}