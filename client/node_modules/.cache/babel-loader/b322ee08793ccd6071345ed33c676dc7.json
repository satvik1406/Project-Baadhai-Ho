{"ast":null,"code":"import _regeneratorRuntime from\"D:/SE/project/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"D:/SE/project/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"D:/SE/project/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import Note from\"./Note\";import CreateArea from\"./CreateArea\";import axios from\"axios\";function Caller(props){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),notes=_useState2[0],setNotes=_useState2[1];function addNote(newNote){console.log(newNote);setNotes(function(prevNotes){console.log(prevNotes);return[newNote];});var sendPostRequest=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var resp;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.post('\\caterer',newNote);case 3:resp=_context.sent;console.log(\"data sent is \"+resp.data);_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);// Handle Error Here\nconsole.error(\"error in react is: \"+_context.t0);case 10:case\"end\":return _context.stop();}}},_callee,null,[[0,7]]);}));return function sendPostRequest(){return _ref.apply(this,arguments);};}();sendPostRequest();}function deleteNote(id){setNotes(function(prevNotes){return prevNotes.filter(function(noteItem,index){return index!==id;});});}return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(CreateArea,{onAdd:addNote,id:props.id}),notes.map(function(noteItem,index){return/*#__PURE__*/React.createElement(\"div\",{style:{margin:\"25px 25px 25px 15px\",float:\"left\",fontFamily:\"McLaren\"}},/*#__PURE__*/React.createElement(Note,{key:index,id:index,sid:props.id,title:noteItem.title,content:noteItem.content,cost:noteItem.cost,tel:noteItem.tel,type:noteItem.type,onDelete:deleteNote}));}));}export default Caller;","map":{"version":3,"sources":["D:/SE/project/client/src/components/home/Caller.jsx"],"names":["React","useState","Note","CreateArea","axios","Caller","props","notes","setNotes","addNote","newNote","console","log","prevNotes","sendPostRequest","post","resp","data","error","deleteNote","id","filter","noteItem","index","map","margin","float","fontFamily","title","content","cost","tel","type"],"mappings":"8ZAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,MAAOC,CAAAA,IAAP,KAAiB,QAAjB,CACA,MAAOC,CAAAA,UAAP,KAAuB,cAAvB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CAEA,QAASC,CAAAA,MAAT,CAAgBC,KAAhB,CAAuB,eACKL,QAAQ,CAAC,EAAD,CADb,wCACdM,KADc,eACPC,QADO,eAGrB,QAASC,CAAAA,OAAT,CAAiBC,OAAjB,CAA0B,CACxBC,OAAO,CAACC,GAAR,CAAYF,OAAZ,EACAF,QAAQ,CAAC,SAACK,SAAD,CAAe,CACtBF,OAAO,CAACC,GAAR,CAAYC,SAAZ,EACA,MAAO,CAACH,OAAD,CAAP,CACD,CAHO,CAAR,CAIA,GAAMI,CAAAA,eAAe,0FAAG,kLAECV,CAAAA,KAAK,CAACW,IAAN,CAAW,UAAX,CAAuBL,OAAvB,CAFD,QAEZM,IAFY,eAGlBL,OAAO,CAACC,GAAR,CAAY,gBAAkBI,IAAI,CAACC,IAAnC,EAHkB,+EAKlB;AACAN,OAAO,CAACO,KAAR,CAAc,iCAAd,EANkB,oEAAH,kBAAfJ,CAAAA,eAAe,0CAArB,CASAA,eAAe,GAEhB,CAED,QAASK,CAAAA,UAAT,CAAoBC,EAApB,CAAwB,CACtBZ,QAAQ,CAAC,SAACK,SAAD,CAAe,CACtB,MAAOA,CAAAA,SAAS,CAACQ,MAAV,CAAiB,SAACC,QAAD,CAAWC,KAAX,CAAqB,CAC3C,MAAOA,CAAAA,KAAK,GAAKH,EAAjB,CACD,CAFM,CAAP,CAGD,CAJO,CAAR,CAKD,CAED,mBACE,4CACE,oBAAC,UAAD,EACA,KAAK,CAAEX,OADP,CAEA,EAAE,CAAIH,KAAK,CAACc,EAFZ,EADF,CAKGb,KAAK,CAACiB,GAAN,CAAU,SAACF,QAAD,CAAWC,KAAX,CAAqB,CAC9B,mBACE,2BACE,KAAK,CAAE,CACLE,MAAM,CAAE,qBADH,CAELC,KAAK,CAAE,MAFF,CAGLC,UAAU,CAAE,SAHP,CADT,eAOE,oBAAC,IAAD,EACE,GAAG,CAAEJ,KADP,CAEE,EAAE,CAAEA,KAFN,CAGE,GAAG,CAAEjB,KAAK,CAACc,EAHb,CAIE,KAAK,CAAEE,QAAQ,CAACM,KAJlB,CAKE,OAAO,CAAEN,QAAQ,CAACO,OALpB,CAME,IAAI,CAAEP,QAAQ,CAACQ,IANjB,CAOE,GAAG,CAAER,QAAQ,CAACS,GAPhB,CAQE,IAAI,CAAET,QAAQ,CAACU,IARjB,CASE,QAAQ,CAAEb,UATZ,EAPF,CADF,CAqBD,CAtBA,CALH,CADF,CA+BD,CAED,cAAed,CAAAA,MAAf","sourcesContent":["import React, { useState } from \"react\";\r\nimport Note from \"./Note\";\r\nimport CreateArea from \"./CreateArea\";\r\nimport axios from \"axios\";\r\n\r\nfunction Caller(props) {\r\n  const [notes, setNotes] = useState([]);\r\n\r\n  function addNote(newNote) {\r\n    console.log(newNote);\r\n    setNotes((prevNotes) => {\r\n      console.log(prevNotes);\r\n      return [newNote];\r\n    });\r\n    const sendPostRequest = async () => {\r\n      try {\r\n          const resp = await axios.post('\\caterer', newNote);\r\n          console.log(\"data sent is \" + resp.data);\r\n      } catch (err) {\r\n          // Handle Error Here\r\n          console.error(\"error in react is: \" + err);\r\n      }\r\n    };\r\n    sendPostRequest();\r\n  \r\n  }\r\n\r\n  function deleteNote(id) {\r\n    setNotes((prevNotes) => {\r\n      return prevNotes.filter((noteItem, index) => {\r\n        return index !== id;\r\n      });\r\n    });\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <CreateArea \r\n      onAdd={addNote} \r\n      id = {props.id}\r\n      />\r\n      {notes.map((noteItem, index) => {\r\n        return (\r\n          <div\r\n            style={{\r\n              margin: \"25px 25px 25px 15px\",\r\n              float: \"left\",\r\n              fontFamily: \"McLaren\"\r\n            }}\r\n          >\r\n            <Note\r\n              key={index}\r\n              id={index}\r\n              sid={props.id}\r\n              title={noteItem.title}\r\n              content={noteItem.content}\r\n              cost={noteItem.cost}\r\n              tel={noteItem.tel}\r\n              type={noteItem.type}\r\n              onDelete={deleteNote}\r\n            />\r\n          </div>\r\n        );\r\n      })}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Caller;\r\n"]},"metadata":{},"sourceType":"module"}